---
typora-root-url: ..\pics类
---

# 文件结构

- IDEA安装jclasslib插件
- u1表示一个字节，u2表示2，依次类推

1. 魔数（u2）：0XCAFEBABE，文件固定开头

2. 版本号（u2）：前一个字节为次版本号，后一个字节为主版本号

3. 常量池

   - 常量池容量计数值（u2）：表示常量池在class文件的字节数，计数从下标1开始，所以如0X001C表示常量池表示在接下来27项![1569310339452](/../JVM/pic/1569310339452.png)

   - 常量池：主要存放字面量（文本字符串、声明为final的常量值）和符号引用（类和接口的全限定名、字段和名称的全限定名、方法的名称和描述符）；下面是各常量池类型格式

![1569310984760](/../JVM/pic/1569310984760.png)

![1569311030997](/../JVM/pic/1569311030997.png)



4. 访问标志：紧跟在常量池后面![1569314494568](/../JVM/pic/1569314494568.png)

5. 类索引、父类索引、接口集索引：

   - 类索引（u2）指向常量池当前类全限定名；

   - 父类索引（u2）用于确定父类的全限定名，java不允许多继承所以父类索引只有一个；

   - 接口计数器（u2）表示该类实现的接口数量、

6. 字段表集合：

   计数器（u2）：表示字段的个数；然后接下来是n个字段



   ![1569547858348](/../JVM/pic/1569547858348.png)

   ![1569547858348](/../JVM/pic/1569547904427.png)

   jvm规范中B - byte、C - char、D - double、F - float、I - int、J - long、Z - boolean、v - void、L - 对象全限定名（Ljava/lang/String）；数组则每一个纬度增加一个[，[I - int[]、[[Ljava/lang/String - String[][]![1569548072483](/../JVM/pic/1569548072483.png)

7. 方法表集合

   ![1569550011355](/../JVM/pic/1569550011355.png)

8. 属性表集合



   ![1569548556700](/../JVM/pic/1569548556700.png)

   ![1569548556700](/../JVM/pic/1569548643450.png)

   ![1569549890301](/../JVM/pic/1569549890301.png)

   ![1569548621210](/../JVM/pic/1569548621210.png)

